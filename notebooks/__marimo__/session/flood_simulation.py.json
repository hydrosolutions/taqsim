{
  "version": "1",
  "metadata": {
    "marimo_version": "0.18.1"
  },
  "cells": [
    {
      "id": "Hbol",
      "code_hash": "8339131d45a3edd3bbf1810d414d30ec",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "MJUe",
      "code_hash": "fa1c15a35a7cbf606d5a12f02bf6040c",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h1 id=\"flood-simulation-dam-farm-city-network\">Flood Simulation: Dam-Farm-City Network</h1>\n<span class=\"paragraph\">A 6-node water system demonstrating flood risk when dam releases exceed city channel capacity.</span>\n<h2 id=\"network-topology\">Network Topology</h2>\n<div class=\"language-text codehilite\"><pre><span></span><code>Source \u2192 Dam \u2192 Turbine \u2192 Splitter \u2192 Farm (irrigation)\u2198\u2192 City (main river, capacity=100)\n</code></pre></div>\n<h2 id=\"key-constraints\">Key Constraints</h2>\n<ul>\n<li><strong>City Channel Capacity</strong>: 100 units/second (flood threshold)</li>\n<li><strong>Farm</strong>: Takes only what it needs (up to demand)</li>\n<li><strong>City</strong>: Receives everything that's left over \u2014 vulnerable to flooding</li>\n</ul></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "vblA",
      "code_hash": "dc2c84ae80cdaa2e7ecf00a357140207",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "bkHC",
      "code_hash": "ff98ae357bf76de80555f38492f569ed",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"system-parameters\">System Parameters</h2>\n<span class=\"paragraph\">Configure the simulation parameters below.</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "lEQa",
      "code_hash": "9abca6ab7b17a371330e3e5b96f1ff69",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<div style='display: flex;flex: 1;flex-direction: row;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 2rem'><marimo-ui-element object-id='lEQa-0' random-id='c3be6f51-c32b-ac99-4600-5a3c3384d5a7'><marimo-slider data-initial-value='0.3' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert contents&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Dam Release Fraction&lt;/span&gt;&lt;/span&gt;&quot;' data-start='0.1' data-stop='0.8' data-step='0.05' data-steps='[]' data-debounce='false' data-disabled='false' data-orientation='&quot;horizontal&quot;' data-show-value='false' data-include-input='false' data-full-width='false'></marimo-slider></marimo-ui-element><marimo-ui-element object-id='lEQa-1' random-id='9b3fffc1-5d10-221c-e7fe-105ab76b0cef'><marimo-slider data-initial-value='30' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert contents&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Farm Demand (units/s)&lt;/span&gt;&lt;/span&gt;&quot;' data-start='10' data-stop='80' data-step='5' data-steps='[]' data-debounce='false' data-disabled='false' data-orientation='&quot;horizontal&quot;' data-show-value='false' data-include-input='false' data-full-width='false'></marimo-slider></marimo-ui-element><marimo-ui-element object-id='lEQa-2' random-id='a8b2354c-e0a6-2427-5191-a30be33c53c4'><marimo-slider data-initial-value='500' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert contents&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Initial Dam Storage&lt;/span&gt;&lt;/span&gt;&quot;' data-start='100' data-stop='900' data-step='50' data-steps='[]' data-debounce='false' data-disabled='false' data-orientation='&quot;horizontal&quot;' data-show-value='false' data-include-input='false' data-full-width='false'></marimo-slider></marimo-ui-element></div>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "PKri",
      "code_hash": "5f42b03fc0ed21a4407026960bcc5a80",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "Xref",
      "code_hash": "784e82bd7721ea2d4ec86371e2f6adcb",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "SFPL",
      "code_hash": "90ab74bbdd6c19fc33b970eb87fbaebc",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"simulation\">Simulation</h2>\n<span class=\"paragraph\">Running the water balance simulation for 12 months.</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "BYtC",
      "code_hash": "afaed6f9f688c05bb94ed5550407b4d3",
      "outputs": [
        {
          "type": "data",
          "data": {
            "application/json": "{\"month\": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], \"river_inflow\": [\"text/plain+float:160.0\", \"text/plain+float:200.0\", \"text/plain+float:300.0\", \"text/plain+float:400.0\", \"text/plain+float:360.0\", \"text/plain+float:240.0\", \"text/plain+float:180.0\", \"text/plain+float:140.0\", \"text/plain+float:120.0\", \"text/plain+float:160.0\", \"text/plain+float:200.0\", \"text/plain+float:240.0\"], \"dam_storage\": [100, \"text/plain+float:140.57920000000001\", \"text/plain+float:188.0004096\", \"text/plain+float:263.9803227648\", \"text/plain+float:362.4644943386624\", \"text/plain+float:424.62522153886596\", \"text/plain+float:427.2734745726264\", \"text/plain+float:406.1930979632296\", \"text/plain+float:374.13696119502487\", \"text/plain+float:341.1543254216796\", \"text/plain+float:330.6088084322835\", \"text/plain+float:337.7437410446394\"], \"dam_release\": [\"text/plain+float:35.144800000000004\", \"text/plain+float:47.0001024\", \"text/plain+float:65.9950806912\", \"text/plain+float:90.61612358466562\", \"text/plain+float:106.15630538471649\", \"text/plain+float:106.8183686431566\", \"text/plain+float:101.5482744908074\", \"text/plain+float:93.53424029875623\", \"text/plain+float:85.28858135541991\", \"text/plain+float:82.65220210807088\", \"text/plain+float:84.43593526115986\", \"text/plain+float:89.70271698579397\"], \"turbine_flow\": [\"text/plain+float:35.144800000000004\", \"text/plain+float:47.0001024\", \"text/plain+float:65.9950806912\", \"text/plain+float:90.61612358466562\", \"text/plain+float:106.15630538471649\", \"text/plain+float:106.8183686431566\", \"text/plain+float:101.5482744908074\", \"text/plain+float:93.53424029875623\", \"text/plain+float:85.28858135541991\", \"text/plain+float:82.65220210807088\", \"text/plain+float:84.43593526115986\", \"text/plain+float:89.70271698579397\"], \"farm_allocation\": [\"text/plain+float:35.144800000000004\", \"text/plain+float:47.0001024\", 50, 50, 50, 50, 50, 50, 50, 50, 50, 50], \"city_allocation\": [\"text/plain+float:0.0\", \"text/plain+float:0.0\", \"text/plain+float:15.995080691200002\", \"text/plain+float:40.616123584665615\", \"text/plain+float:56.15630538471649\", \"text/plain+float:56.8183686431566\", \"text/plain+float:51.5482744908074\", \"text/plain+float:43.53424029875623\", \"text/plain+float:35.28858135541991\", \"text/plain+float:32.65220210807088\", \"text/plain+float:34.435935261159855\", \"text/plain+float:39.70271698579397\"], \"farm_satisfied\": [\"text/plain+float:34.090456\", \"text/plain+float:45.590099328\", \"text/plain+float:48.5\", \"text/plain+float:48.5\", \"text/plain+float:48.5\", \"text/plain+float:48.5\", \"text/plain+float:48.5\", \"text/plain+float:48.5\", \"text/plain+float:48.5\", \"text/plain+float:48.5\", \"text/plain+float:48.5\", \"text/plain+float:48.5\"], \"farm_deficit\": [\"text/plain+float:15.909543999999997\", \"text/plain+float:4.409900671999999\", \"text/plain+float:1.5\", \"text/plain+float:1.5\", \"text/plain+float:1.5\", \"text/plain+float:1.5\", \"text/plain+float:1.5\", \"text/plain+float:1.5\", \"text/plain+float:1.5\", \"text/plain+float:1.5\", \"text/plain+float:1.5\", \"text/plain+float:1.5\"], \"city_flood_excess\": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}"
          }
        }
      ],
      "console": []
    },
    {
      "id": "RGSE",
      "code_hash": "5e0f0a312663b5b5a094ddb70f59f92c",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"results-summary\">Results Summary</h2>\n<table>\n<thead>\n<tr>\n<th>Metric</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Total Flood Excess</td>\n<td><strong>0.0</strong> units</td>\n</tr>\n<tr>\n<td>Months with Flooding</td>\n<td><strong>0</strong> / 12</td>\n</tr>\n<tr>\n<td>Total Farm Deficit</td>\n<td><strong>35.3</strong> units</td>\n</tr>\n<tr>\n<td>Final Dam Storage</td>\n<td><strong>337.7</strong> units</td>\n</tr>\n</tbody>\n</table></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "Kclp",
      "code_hash": "8ca5d5e6ad3f238c6ac2e92f3d1a1bd5",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"flow-analysis\">Flow Analysis</h2></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "emfo",
      "code_hash": "96d1bc244e87cfee3d37ba5c8e6d76f2",
      "outputs": [
        {
          "type": "data",
          "data": {
            "application/vnd.vegalite.v5+json": "{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v6.1.0.json\",\n  \"config\": {\n    \"view\": {\n      \"continuousHeight\": 300,\n      \"continuousWidth\": 300\n    }\n  },\n  \"data\": {\n    \"name\": \"data-6c0f7d7ff5aa139f49222d6da12ea704\"\n  },\n  \"datasets\": {\n    \"data-6c0f7d7ff5aa139f49222d6da12ea704\": [\n      {\n        \"Flow (units/s)\": 160.0,\n        \"Flow Type\": \"river_inflow\",\n        \"month\": 1\n      },\n      {\n        \"Flow (units/s)\": 200.0,\n        \"Flow Type\": \"river_inflow\",\n        \"month\": 2\n      },\n      {\n        \"Flow (units/s)\": 300.0,\n        \"Flow Type\": \"river_inflow\",\n        \"month\": 3\n      },\n      {\n        \"Flow (units/s)\": 400.0,\n        \"Flow Type\": \"river_inflow\",\n        \"month\": 4\n      },\n      {\n        \"Flow (units/s)\": 360.0,\n        \"Flow Type\": \"river_inflow\",\n        \"month\": 5\n      },\n      {\n        \"Flow (units/s)\": 240.0,\n        \"Flow Type\": \"river_inflow\",\n        \"month\": 6\n      },\n      {\n        \"Flow (units/s)\": 180.0,\n        \"Flow Type\": \"river_inflow\",\n        \"month\": 7\n      },\n      {\n        \"Flow (units/s)\": 140.0,\n        \"Flow Type\": \"river_inflow\",\n        \"month\": 8\n      },\n      {\n        \"Flow (units/s)\": 120.0,\n        \"Flow Type\": \"river_inflow\",\n        \"month\": 9\n      },\n      {\n        \"Flow (units/s)\": 160.0,\n        \"Flow Type\": \"river_inflow\",\n        \"month\": 10\n      },\n      {\n        \"Flow (units/s)\": 200.0,\n        \"Flow Type\": \"river_inflow\",\n        \"month\": 11\n      },\n      {\n        \"Flow (units/s)\": 240.0,\n        \"Flow Type\": \"river_inflow\",\n        \"month\": 12\n      },\n      {\n        \"Flow (units/s)\": 35.144800000000004,\n        \"Flow Type\": \"dam_release\",\n        \"month\": 1\n      },\n      {\n        \"Flow (units/s)\": 47.0001024,\n        \"Flow Type\": \"dam_release\",\n        \"month\": 2\n      },\n      {\n        \"Flow (units/s)\": 65.9950806912,\n        \"Flow Type\": \"dam_release\",\n        \"month\": 3\n      },\n      {\n        \"Flow (units/s)\": 90.61612358466562,\n        \"Flow Type\": \"dam_release\",\n        \"month\": 4\n      },\n      {\n        \"Flow (units/s)\": 106.15630538471649,\n        \"Flow Type\": \"dam_release\",\n        \"month\": 5\n      },\n      {\n        \"Flow (units/s)\": 106.8183686431566,\n        \"Flow Type\": \"dam_release\",\n        \"month\": 6\n      },\n      {\n        \"Flow (units/s)\": 101.5482744908074,\n        \"Flow Type\": \"dam_release\",\n        \"month\": 7\n      },\n      {\n        \"Flow (units/s)\": 93.53424029875623,\n        \"Flow Type\": \"dam_release\",\n        \"month\": 8\n      },\n      {\n        \"Flow (units/s)\": 85.28858135541991,\n        \"Flow Type\": \"dam_release\",\n        \"month\": 9\n      },\n      {\n        \"Flow (units/s)\": 82.65220210807088,\n        \"Flow Type\": \"dam_release\",\n        \"month\": 10\n      },\n      {\n        \"Flow (units/s)\": 84.43593526115986,\n        \"Flow Type\": \"dam_release\",\n        \"month\": 11\n      },\n      {\n        \"Flow (units/s)\": 89.70271698579397,\n        \"Flow Type\": \"dam_release\",\n        \"month\": 12\n      },\n      {\n        \"Flow (units/s)\": 35.144800000000004,\n        \"Flow Type\": \"farm_allocation\",\n        \"month\": 1\n      },\n      {\n        \"Flow (units/s)\": 47.0001024,\n        \"Flow Type\": \"farm_allocation\",\n        \"month\": 2\n      },\n      {\n        \"Flow (units/s)\": 50.0,\n        \"Flow Type\": \"farm_allocation\",\n        \"month\": 3\n      },\n      {\n        \"Flow (units/s)\": 50.0,\n        \"Flow Type\": \"farm_allocation\",\n        \"month\": 4\n      },\n      {\n        \"Flow (units/s)\": 50.0,\n        \"Flow Type\": \"farm_allocation\",\n        \"month\": 5\n      },\n      {\n        \"Flow (units/s)\": 50.0,\n        \"Flow Type\": \"farm_allocation\",\n        \"month\": 6\n      },\n      {\n        \"Flow (units/s)\": 50.0,\n        \"Flow Type\": \"farm_allocation\",\n        \"month\": 7\n      },\n      {\n        \"Flow (units/s)\": 50.0,\n        \"Flow Type\": \"farm_allocation\",\n        \"month\": 8\n      },\n      {\n        \"Flow (units/s)\": 50.0,\n        \"Flow Type\": \"farm_allocation\",\n        \"month\": 9\n      },\n      {\n        \"Flow (units/s)\": 50.0,\n        \"Flow Type\": \"farm_allocation\",\n        \"month\": 10\n      },\n      {\n        \"Flow (units/s)\": 50.0,\n        \"Flow Type\": \"farm_allocation\",\n        \"month\": 11\n      },\n      {\n        \"Flow (units/s)\": 50.0,\n        \"Flow Type\": \"farm_allocation\",\n        \"month\": 12\n      },\n      {\n        \"Flow (units/s)\": 0.0,\n        \"Flow Type\": \"city_allocation\",\n        \"month\": 1\n      },\n      {\n        \"Flow (units/s)\": 0.0,\n        \"Flow Type\": \"city_allocation\",\n        \"month\": 2\n      },\n      {\n        \"Flow (units/s)\": 15.995080691200002,\n        \"Flow Type\": \"city_allocation\",\n        \"month\": 3\n      },\n      {\n        \"Flow (units/s)\": 40.616123584665615,\n        \"Flow Type\": \"city_allocation\",\n        \"month\": 4\n      },\n      {\n        \"Flow (units/s)\": 56.15630538471649,\n        \"Flow Type\": \"city_allocation\",\n        \"month\": 5\n      },\n      {\n        \"Flow (units/s)\": 56.8183686431566,\n        \"Flow Type\": \"city_allocation\",\n        \"month\": 6\n      },\n      {\n        \"Flow (units/s)\": 51.5482744908074,\n        \"Flow Type\": \"city_allocation\",\n        \"month\": 7\n      },\n      {\n        \"Flow (units/s)\": 43.53424029875623,\n        \"Flow Type\": \"city_allocation\",\n        \"month\": 8\n      },\n      {\n        \"Flow (units/s)\": 35.28858135541991,\n        \"Flow Type\": \"city_allocation\",\n        \"month\": 9\n      },\n      {\n        \"Flow (units/s)\": 32.65220210807088,\n        \"Flow Type\": \"city_allocation\",\n        \"month\": 10\n      },\n      {\n        \"Flow (units/s)\": 34.435935261159855,\n        \"Flow Type\": \"city_allocation\",\n        \"month\": 11\n      },\n      {\n        \"Flow (units/s)\": 39.70271698579397,\n        \"Flow Type\": \"city_allocation\",\n        \"month\": 12\n      }\n    ]\n  },\n  \"encoding\": {\n    \"color\": {\n      \"field\": \"Flow Type\",\n      \"type\": \"nominal\"\n    },\n    \"strokeDash\": {\n      \"field\": \"Flow Type\",\n      \"type\": \"nominal\"\n    },\n    \"x\": {\n      \"field\": \"month\",\n      \"title\": \"Month\",\n      \"type\": \"ordinal\"\n    },\n    \"y\": {\n      \"field\": \"Flow (units/s)\",\n      \"type\": \"quantitative\"\n    }\n  },\n  \"height\": 300,\n  \"mark\": {\n    \"point\": true,\n    \"type\": \"line\"\n  },\n  \"title\": \"Water Flows Through the System\",\n  \"usermeta\": {\n    \"embedOptions\": {}\n  },\n  \"width\": 600\n}"
          }
        }
      ],
      "console": []
    },
    {
      "id": "Hstk",
      "code_hash": "e27de4e6c848fd71eae433e3ab365e6a",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"dam-storage\">Dam Storage</h2></span><marimo-mime-renderer data-mime='&quot;application/vnd.vegalite.v5+json&quot;' data-data='&quot;{&#92;n  &#92;&quot;&#36;schema&#92;&quot;: &#92;&quot;https://vega.github.io/schema/vega-lite/v6.1.0.json&#92;&quot;,&#92;n  &#92;&quot;config&#92;&quot;: {&#92;n    &#92;&quot;view&#92;&quot;: {&#92;n      &#92;&quot;continuousHeight&#92;&quot;: 300,&#92;n      &#92;&quot;continuousWidth&#92;&quot;: 300&#92;n    }&#92;n  },&#92;n  &#92;&quot;data&#92;&quot;: {&#92;n    &#92;&quot;name&#92;&quot;: &#92;&quot;data-a377d6a72fc1c156e2d58c3bdec33fd0&#92;&quot;&#92;n  },&#92;n  &#92;&quot;datasets&#92;&quot;: {&#92;n    &#92;&quot;data-a377d6a72fc1c156e2d58c3bdec33fd0&#92;&quot;: [&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 0.0,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 35.144800000000004,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 100.0,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 35.144800000000004,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 15.909543999999997,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 34.090456,&#92;n        &#92;&quot;month&#92;&quot;: 1,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 160.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 35.144800000000004&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 0.0,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 47.0001024,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 140.57920000000001,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 47.0001024,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 4.409900671999999,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 45.590099328,&#92;n        &#92;&quot;month&#92;&quot;: 2,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 200.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 47.0001024&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 15.995080691200002,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 65.9950806912,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 188.0004096,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 3,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 300.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 65.9950806912&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 40.616123584665615,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 90.61612358466562,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 263.9803227648,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 4,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 400.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 90.61612358466562&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 56.15630538471649,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 106.15630538471649,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 362.4644943386624,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 5,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 360.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 106.15630538471649&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 56.8183686431566,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 106.8183686431566,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 424.62522153886596,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 6,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 240.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 106.8183686431566&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 51.5482744908074,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 101.5482744908074,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 427.2734745726264,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 7,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 180.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 101.5482744908074&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 43.53424029875623,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 93.53424029875623,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 406.1930979632296,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 8,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 140.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 93.53424029875623&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 35.28858135541991,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 85.28858135541991,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 374.13696119502487,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 9,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 120.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 85.28858135541991&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 32.65220210807088,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 82.65220210807088,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 341.1543254216796,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 10,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 160.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 82.65220210807088&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 34.435935261159855,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 84.43593526115986,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 330.6088084322835,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 11,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 200.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 84.43593526115986&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 39.70271698579397,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 89.70271698579397,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 337.7437410446394,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 12,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 240.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 89.70271698579397&#92;n      }&#92;n    ]&#92;n  },&#92;n  &#92;&quot;encoding&#92;&quot;: {&#92;n    &#92;&quot;x&#92;&quot;: {&#92;n      &#92;&quot;field&#92;&quot;: &#92;&quot;month&#92;&quot;,&#92;n      &#92;&quot;title&#92;&quot;: &#92;&quot;Month&#92;&quot;,&#92;n      &#92;&quot;type&#92;&quot;: &#92;&quot;ordinal&#92;&quot;&#92;n    },&#92;n    &#92;&quot;y&#92;&quot;: {&#92;n      &#92;&quot;field&#92;&quot;: &#92;&quot;dam_storage&#92;&quot;,&#92;n      &#92;&quot;title&#92;&quot;: &#92;&quot;Dam Storage (units)&#92;&quot;,&#92;n      &#92;&quot;type&#92;&quot;: &#92;&quot;quantitative&#92;&quot;&#92;n    }&#92;n  },&#92;n  &#92;&quot;height&#92;&quot;: 200,&#92;n  &#92;&quot;mark&#92;&quot;: {&#92;n    &#92;&quot;color&#92;&quot;: &#92;&quot;steelblue&#92;&quot;,&#92;n    &#92;&quot;opacity&#92;&quot;: 0.6,&#92;n    &#92;&quot;type&#92;&quot;: &#92;&quot;area&#92;&quot;&#92;n  },&#92;n  &#92;&quot;title&#92;&quot;: &#92;&quot;Dam Storage Over Time&#92;&quot;,&#92;n  &#92;&quot;usermeta&#92;&quot;: {&#92;n    &#92;&quot;embedOptions&#92;&quot;: {}&#92;n  },&#92;n  &#92;&quot;width&#92;&quot;: 600&#92;n}&quot;'></marimo-mime-renderer></div>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "nWHF",
      "code_hash": "2e460d0bb1c45aebdbca63fccf174392",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"flood-risk-analysis\">Flood Risk Analysis</h2></span><marimo-mime-renderer data-mime='&quot;application/vnd.vegalite.v5+json&quot;' data-data='&quot;{&#92;n  &#92;&quot;&#36;schema&#92;&quot;: &#92;&quot;https://vega.github.io/schema/vega-lite/v6.1.0.json&#92;&quot;,&#92;n  &#92;&quot;config&#92;&quot;: {&#92;n    &#92;&quot;view&#92;&quot;: {&#92;n      &#92;&quot;continuousHeight&#92;&quot;: 300,&#92;n      &#92;&quot;continuousWidth&#92;&quot;: 300&#92;n    }&#92;n  },&#92;n  &#92;&quot;data&#92;&quot;: {&#92;n    &#92;&quot;name&#92;&quot;: &#92;&quot;data-a377d6a72fc1c156e2d58c3bdec33fd0&#92;&quot;&#92;n  },&#92;n  &#92;&quot;datasets&#92;&quot;: {&#92;n    &#92;&quot;data-a377d6a72fc1c156e2d58c3bdec33fd0&#92;&quot;: [&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 0.0,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 35.144800000000004,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 100.0,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 35.144800000000004,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 15.909543999999997,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 34.090456,&#92;n        &#92;&quot;month&#92;&quot;: 1,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 160.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 35.144800000000004&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 0.0,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 47.0001024,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 140.57920000000001,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 47.0001024,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 4.409900671999999,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 45.590099328,&#92;n        &#92;&quot;month&#92;&quot;: 2,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 200.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 47.0001024&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 15.995080691200002,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 65.9950806912,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 188.0004096,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 3,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 300.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 65.9950806912&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 40.616123584665615,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 90.61612358466562,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 263.9803227648,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 4,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 400.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 90.61612358466562&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 56.15630538471649,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 106.15630538471649,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 362.4644943386624,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 5,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 360.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 106.15630538471649&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 56.8183686431566,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 106.8183686431566,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 424.62522153886596,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 6,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 240.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 106.8183686431566&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 51.5482744908074,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 101.5482744908074,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 427.2734745726264,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 7,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 180.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 101.5482744908074&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 43.53424029875623,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 93.53424029875623,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 406.1930979632296,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 8,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 140.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 93.53424029875623&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 35.28858135541991,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 85.28858135541991,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 374.13696119502487,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 9,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 120.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 85.28858135541991&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 32.65220210807088,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 82.65220210807088,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 341.1543254216796,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 10,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 160.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 82.65220210807088&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 34.435935261159855,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 84.43593526115986,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 330.6088084322835,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 11,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 200.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 84.43593526115986&#92;n      },&#92;n      {&#92;n        &#92;&quot;city_allocation&#92;&quot;: 39.70271698579397,&#92;n        &#92;&quot;city_flood_excess&#92;&quot;: 0,&#92;n        &#92;&quot;dam_release&#92;&quot;: 89.70271698579397,&#92;n        &#92;&quot;dam_storage&#92;&quot;: 337.7437410446394,&#92;n        &#92;&quot;farm_allocation&#92;&quot;: 50.0,&#92;n        &#92;&quot;farm_deficit&#92;&quot;: 1.5,&#92;n        &#92;&quot;farm_satisfied&#92;&quot;: 48.5,&#92;n        &#92;&quot;month&#92;&quot;: 12,&#92;n        &#92;&quot;river_inflow&#92;&quot;: 240.0,&#92;n        &#92;&quot;turbine_flow&#92;&quot;: 89.70271698579397&#92;n      }&#92;n    ]&#92;n  },&#92;n  &#92;&quot;height&#92;&quot;: 250,&#92;n  &#92;&quot;layer&#92;&quot;: [&#92;n    {&#92;n      &#92;&quot;encoding&#92;&quot;: {&#92;n        &#92;&quot;x&#92;&quot;: {&#92;n          &#92;&quot;field&#92;&quot;: &#92;&quot;month&#92;&quot;,&#92;n          &#92;&quot;title&#92;&quot;: &#92;&quot;Month&#92;&quot;,&#92;n          &#92;&quot;type&#92;&quot;: &#92;&quot;ordinal&#92;&quot;&#92;n        },&#92;n        &#92;&quot;y&#92;&quot;: {&#92;n          &#92;&quot;field&#92;&quot;: &#92;&quot;city_allocation&#92;&quot;,&#92;n          &#92;&quot;title&#92;&quot;: &#92;&quot;City Flow (units/s)&#92;&quot;,&#92;n          &#92;&quot;type&#92;&quot;: &#92;&quot;quantitative&#92;&quot;&#92;n        }&#92;n      },&#92;n      &#92;&quot;mark&#92;&quot;: {&#92;n        &#92;&quot;color&#92;&quot;: &#92;&quot;lightblue&#92;&quot;,&#92;n        &#92;&quot;type&#92;&quot;: &#92;&quot;bar&#92;&quot;&#92;n      }&#92;n    },&#92;n    {&#92;n      &#92;&quot;encoding&#92;&quot;: {&#92;n        &#92;&quot;x&#92;&quot;: {&#92;n          &#92;&quot;field&#92;&quot;: &#92;&quot;month&#92;&quot;,&#92;n          &#92;&quot;title&#92;&quot;: &#92;&quot;Month&#92;&quot;,&#92;n          &#92;&quot;type&#92;&quot;: &#92;&quot;ordinal&#92;&quot;&#92;n        },&#92;n        &#92;&quot;y&#92;&quot;: {&#92;n          &#92;&quot;field&#92;&quot;: &#92;&quot;city_flood_excess&#92;&quot;,&#92;n          &#92;&quot;title&#92;&quot;: &#92;&quot;Flood Excess&#92;&quot;,&#92;n          &#92;&quot;type&#92;&quot;: &#92;&quot;quantitative&#92;&quot;&#92;n        }&#92;n      },&#92;n      &#92;&quot;mark&#92;&quot;: {&#92;n        &#92;&quot;color&#92;&quot;: &#92;&quot;red&#92;&quot;,&#92;n        &#92;&quot;type&#92;&quot;: &#92;&quot;bar&#92;&quot;&#92;n      }&#92;n    },&#92;n    {&#92;n      &#92;&quot;encoding&#92;&quot;: {&#92;n        &#92;&quot;y&#92;&quot;: {&#92;n          &#92;&quot;datum&#92;&quot;: 100&#92;n        }&#92;n      },&#92;n      &#92;&quot;mark&#92;&quot;: {&#92;n        &#92;&quot;color&#92;&quot;: &#92;&quot;darkred&#92;&quot;,&#92;n        &#92;&quot;strokeDash&#92;&quot;: [&#92;n          5,&#92;n          5&#92;n        ],&#92;n        &#92;&quot;type&#92;&quot;: &#92;&quot;rule&#92;&quot;&#92;n      }&#92;n    }&#92;n  ],&#92;n  &#92;&quot;resolve&#92;&quot;: {&#92;n    &#92;&quot;scale&#92;&quot;: {&#92;n      &#92;&quot;y&#92;&quot;: &#92;&quot;independent&#92;&quot;&#92;n    }&#92;n  },&#92;n  &#92;&quot;title&#92;&quot;: &#92;&quot;City Channel: Flow vs Capacity (100)&#92;&quot;,&#92;n  &#92;&quot;usermeta&#92;&quot;: {&#92;n    &#92;&quot;embedOptions&#92;&quot;: {}&#92;n  },&#92;n  &#92;&quot;width&#92;&quot;: 600&#92;n}&quot;'></marimo-mime-renderer></div>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "iLit",
      "code_hash": "8150a40200475cc9d52653ed8df66301",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"water-balance-equation\">Water Balance Equation</h2>\n<span class=\"paragraph\">At the Splitter (junction), the water balance is:</span>\n<marimo-tex class=\"arithmatex\">||[Flow_{City} = Release_{Dam} - Flow_{Farm}||]</marimo-tex><span class=\"paragraph\">Where:</span>\n<ul>\n<li><strong>Farm</strong> takes: <marimo-tex class=\"arithmatex\">||(\\min(Demand_{Farm}, Available)||)</marimo-tex></li>\n<li><strong>City</strong> takes: <marimo-tex class=\"arithmatex\">||(Remaining = Available - Farm_{allocation}||)</marimo-tex></li>\n</ul>\n<span class=\"paragraph\">If <marimo-tex class=\"arithmatex\">||(Flow_{City} &gt; 100||)</marimo-tex>, the city floods and excess water is lost.</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "ZHCJ",
      "code_hash": "4954618b37bd6dfb6723f7e94636217e",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"detailed-results\">Detailed Results</h2></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "ROlb",
      "code_hash": "1ad3a23db1e86fea93e9a25f98dd97af",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='ROlb-0' random-id='cbf817f7-5d54-1365-1509-53d65af50694'><marimo-table data-initial-value='[]' data-label='null' data-data='&quot;[{&#92;&quot;month&#92;&quot;:1,&#92;&quot;river_inflow&#92;&quot;:160.0,&#92;&quot;dam_storage&#92;&quot;:100.0,&#92;&quot;dam_release&#92;&quot;:35.14,&#92;&quot;turbine_flow&#92;&quot;:35.14,&#92;&quot;farm_allocation&#92;&quot;:35.14,&#92;&quot;city_allocation&#92;&quot;:0.0,&#92;&quot;farm_satisfied&#92;&quot;:34.09,&#92;&quot;farm_deficit&#92;&quot;:15.91,&#92;&quot;city_flood_excess&#92;&quot;:0},{&#92;&quot;month&#92;&quot;:2,&#92;&quot;river_inflow&#92;&quot;:200.0,&#92;&quot;dam_storage&#92;&quot;:140.58,&#92;&quot;dam_release&#92;&quot;:47.0,&#92;&quot;turbine_flow&#92;&quot;:47.0,&#92;&quot;farm_allocation&#92;&quot;:47.0,&#92;&quot;city_allocation&#92;&quot;:0.0,&#92;&quot;farm_satisfied&#92;&quot;:45.59,&#92;&quot;farm_deficit&#92;&quot;:4.41,&#92;&quot;city_flood_excess&#92;&quot;:0},{&#92;&quot;month&#92;&quot;:3,&#92;&quot;river_inflow&#92;&quot;:300.0,&#92;&quot;dam_storage&#92;&quot;:188.0,&#92;&quot;dam_release&#92;&quot;:66.0,&#92;&quot;turbine_flow&#92;&quot;:66.0,&#92;&quot;farm_allocation&#92;&quot;:50.0,&#92;&quot;city_allocation&#92;&quot;:16.0,&#92;&quot;farm_satisfied&#92;&quot;:48.5,&#92;&quot;farm_deficit&#92;&quot;:1.5,&#92;&quot;city_flood_excess&#92;&quot;:0},{&#92;&quot;month&#92;&quot;:4,&#92;&quot;river_inflow&#92;&quot;:400.0,&#92;&quot;dam_storage&#92;&quot;:263.98,&#92;&quot;dam_release&#92;&quot;:90.62,&#92;&quot;turbine_flow&#92;&quot;:90.62,&#92;&quot;farm_allocation&#92;&quot;:50.0,&#92;&quot;city_allocation&#92;&quot;:40.62,&#92;&quot;farm_satisfied&#92;&quot;:48.5,&#92;&quot;farm_deficit&#92;&quot;:1.5,&#92;&quot;city_flood_excess&#92;&quot;:0},{&#92;&quot;month&#92;&quot;:5,&#92;&quot;river_inflow&#92;&quot;:360.0,&#92;&quot;dam_storage&#92;&quot;:362.46,&#92;&quot;dam_release&#92;&quot;:106.16,&#92;&quot;turbine_flow&#92;&quot;:106.16,&#92;&quot;farm_allocation&#92;&quot;:50.0,&#92;&quot;city_allocation&#92;&quot;:56.16,&#92;&quot;farm_satisfied&#92;&quot;:48.5,&#92;&quot;farm_deficit&#92;&quot;:1.5,&#92;&quot;city_flood_excess&#92;&quot;:0},{&#92;&quot;month&#92;&quot;:6,&#92;&quot;river_inflow&#92;&quot;:240.0,&#92;&quot;dam_storage&#92;&quot;:424.63,&#92;&quot;dam_release&#92;&quot;:106.82,&#92;&quot;turbine_flow&#92;&quot;:106.82,&#92;&quot;farm_allocation&#92;&quot;:50.0,&#92;&quot;city_allocation&#92;&quot;:56.82,&#92;&quot;farm_satisfied&#92;&quot;:48.5,&#92;&quot;farm_deficit&#92;&quot;:1.5,&#92;&quot;city_flood_excess&#92;&quot;:0},{&#92;&quot;month&#92;&quot;:7,&#92;&quot;river_inflow&#92;&quot;:180.0,&#92;&quot;dam_storage&#92;&quot;:427.27,&#92;&quot;dam_release&#92;&quot;:101.55,&#92;&quot;turbine_flow&#92;&quot;:101.55,&#92;&quot;farm_allocation&#92;&quot;:50.0,&#92;&quot;city_allocation&#92;&quot;:51.55,&#92;&quot;farm_satisfied&#92;&quot;:48.5,&#92;&quot;farm_deficit&#92;&quot;:1.5,&#92;&quot;city_flood_excess&#92;&quot;:0},{&#92;&quot;month&#92;&quot;:8,&#92;&quot;river_inflow&#92;&quot;:140.0,&#92;&quot;dam_storage&#92;&quot;:406.19,&#92;&quot;dam_release&#92;&quot;:93.53,&#92;&quot;turbine_flow&#92;&quot;:93.53,&#92;&quot;farm_allocation&#92;&quot;:50.0,&#92;&quot;city_allocation&#92;&quot;:43.53,&#92;&quot;farm_satisfied&#92;&quot;:48.5,&#92;&quot;farm_deficit&#92;&quot;:1.5,&#92;&quot;city_flood_excess&#92;&quot;:0},{&#92;&quot;month&#92;&quot;:9,&#92;&quot;river_inflow&#92;&quot;:120.0,&#92;&quot;dam_storage&#92;&quot;:374.14,&#92;&quot;dam_release&#92;&quot;:85.29,&#92;&quot;turbine_flow&#92;&quot;:85.29,&#92;&quot;farm_allocation&#92;&quot;:50.0,&#92;&quot;city_allocation&#92;&quot;:35.29,&#92;&quot;farm_satisfied&#92;&quot;:48.5,&#92;&quot;farm_deficit&#92;&quot;:1.5,&#92;&quot;city_flood_excess&#92;&quot;:0},{&#92;&quot;month&#92;&quot;:10,&#92;&quot;river_inflow&#92;&quot;:160.0,&#92;&quot;dam_storage&#92;&quot;:341.15,&#92;&quot;dam_release&#92;&quot;:82.65,&#92;&quot;turbine_flow&#92;&quot;:82.65,&#92;&quot;farm_allocation&#92;&quot;:50.0,&#92;&quot;city_allocation&#92;&quot;:32.65,&#92;&quot;farm_satisfied&#92;&quot;:48.5,&#92;&quot;farm_deficit&#92;&quot;:1.5,&#92;&quot;city_flood_excess&#92;&quot;:0}]&quot;' data-total-rows='12' data-total-columns='10' data-max-columns='50' data-banner-text='&quot;&quot;' data-pagination='true' data-page-size='10' data-field-types='[[&quot;month&quot;,[&quot;integer&quot;,&quot;int64&quot;]],[&quot;river_inflow&quot;,[&quot;number&quot;,&quot;float64&quot;]],[&quot;dam_storage&quot;,[&quot;number&quot;,&quot;float64&quot;]],[&quot;dam_release&quot;,[&quot;number&quot;,&quot;float64&quot;]],[&quot;turbine_flow&quot;,[&quot;number&quot;,&quot;float64&quot;]],[&quot;farm_allocation&quot;,[&quot;number&quot;,&quot;float64&quot;]],[&quot;city_allocation&quot;,[&quot;number&quot;,&quot;float64&quot;]],[&quot;farm_satisfied&quot;,[&quot;number&quot;,&quot;float64&quot;]],[&quot;farm_deficit&quot;,[&quot;number&quot;,&quot;float64&quot;]],[&quot;city_flood_excess&quot;,[&quot;integer&quot;,&quot;int64&quot;]]]' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='false' data-lazy='false' data-preload='false'></marimo-table></marimo-ui-element>"
          }
        }
      ],
      "console": []
    }
  ]
}